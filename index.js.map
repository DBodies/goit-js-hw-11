{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst API_KEY = \"49170248-1681c7614cb0540d906e8c034\"\nconst BASE_URL = \"https://pixabay.com/api/\"\n\nexport async function fetchImg(query) {\n    try {\n        const response = await axios.get(BASE_URL, {\n            params: {\n                key: API_KEY,\n                q: query,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n                safesearch: \"true\"\n            }\n        })\n        return response.data.hits\n    } catch (error) {\n        console.error(\"Ошибка:\", error)\n    }\n}","import iziToast from \"izitoast\"\nimport simplelightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\n\nconst gallery = document.querySelector(\".gallery\")\n\nlet lightbox = new simplelightbox(\".gallery a\", { \n    captionsData: \"alt\",\n    daptionDelay: 250\n})\n\nexport function rendenImg(images) {\n    if (!images || images.length === 0) {\n        iziToast.warning({\n            title: \"oops\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\"\n        })\n        return\n    }\n    const markup = images.map((img) => `\n    <li class=\"gallery-item\">\n    <a href=\"${img.largeImgURL}\">\n    <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\"/>\n    </a>\n    <div class=\"info\">\n    <p><b>Likes:</b>${img.likes}</p>\n    <p><b>Views:</b>${img.views}</p>\n    <p><b>Comments:</b>${img.comments}</p>\n    <p><b>Downloads:</b>${img.downloads}</p>\n    </div>\n    </li>\n    `).join(\"\")\n    gallery.innerHTML = markup\n    lightbox.refresh()\n}","import { fetchImg } from \"./js/pixabay-api\";\nimport { rendenImg } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nconst searchForm = document.querySelector(\"#search-form\")\nconst searchInput = document.querySelector(\"#search-input\")\nconst loader = document.querySelector(\"#loader\")\nconst gallery = document.querySelector(\".gallery\")\n\nif (!searchForm || !searchInput || !loader || !gallery) {\n  console.error(\"Error\");\n}\n\nloader.style.display = \"none\"\n\nsearchForm.addEventListener(\"submit\", async (event) => {\n    event.preventDefault()\n\n    const query = searchInput.value.trim()\n    if (!query) {\n        iziToast.error({\n            title: \"error\",\n            message: \"Enter a search query\",\n            position: \"topRight\"\n        })\n        return\n    }\n    gallery.innerHTML = \"\"\n    loader.style.display = \"block\"\n    try {\n        const images = await fetchImg(query)\n        if (!images || images.length === 0) {\n            iziToast.warning({\n                 title: \"No Results\",\n        message: \"No images found\",\n        position: \"topRight\"\n            })\n            return\n        }\n        rendenImg(images)\n    } catch (error) {\n        iziToast.error ({\n                  title: \"Error\",\n      message: \"Failed to fetch images. Try again.\",\n      position: \"topRight\",\n        })\n    } finally {\n        loader.style.display = \"none\"\n    }\n})"],"names":["API_KEY","BASE_URL","fetchImg","query","axios","error","gallery","lightbox","simplelightbox","rendenImg","images","iziToast","markup","img","searchForm","searchInput","loader","event"],"mappings":"owBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAASC,EAAO,CAClC,GAAI,CAUA,OATiB,MAAMC,EAAM,IAAIH,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACb,CAAS,GACe,KAAK,IACxB,OAAQE,EAAO,CACZ,QAAQ,MAAM,UAAWA,CAAK,CACjC,CACL,CCfA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAUC,EAAQ,CAC9B,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CAChCC,EAAS,QAAQ,CACb,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MACH,CACD,MAAMC,EAASF,EAAO,IAAKG,GAAQ;AAAA;AAAA,eAExBA,EAAI,WAAW;AAAA,gBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,sBAG5BA,EAAI,KAAK;AAAA,sBACTA,EAAI,KAAK;AAAA,yBACNA,EAAI,QAAQ;AAAA,0BACXA,EAAI,SAAS;AAAA;AAAA;AAAA,KAGlC,EAAE,KAAK,EAAE,EACVP,EAAQ,UAAYM,EACpBL,EAAS,QAAS,CACtB,CC9BA,MAAMO,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCV,EAAU,SAAS,cAAc,UAAU,GAE7C,CAACQ,GAAc,CAACC,GAAe,CAACC,GAAU,CAACV,IAC7C,QAAQ,MAAM,OAAO,EAGvBU,EAAO,MAAM,QAAU,OAEvBF,EAAW,iBAAiB,SAAU,MAAOG,GAAU,CACnDA,EAAM,eAAgB,EAEtB,MAAMd,EAAQY,EAAY,MAAM,KAAM,EACtC,GAAI,CAACZ,EAAO,CACRQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,uBACT,SAAU,UACtB,CAAS,EACD,MACH,CACDL,EAAQ,UAAY,GACpBU,EAAO,MAAM,QAAU,QACvB,GAAI,CACA,MAAMN,EAAS,MAAMR,EAASC,CAAK,EACnC,GAAI,CAACO,GAAUA,EAAO,SAAW,EAAG,CAChCC,EAAS,QAAQ,CACZ,MAAO,aAChB,QAAS,kBACT,SAAU,UAClB,CAAa,EACD,MACH,CACDF,EAAUC,CAAM,CACnB,MAAe,CACZC,EAAS,MAAO,CACN,MAAO,QACnB,QAAS,qCACT,SAAU,UAChB,CAAS,CACT,QAAc,CACNK,EAAO,MAAM,QAAU,MAC1B,CACL,CAAC"}