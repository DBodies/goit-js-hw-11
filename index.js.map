{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst API_KEY = \"49170248-1681c7614cb0540d906e8c034\"\nconst BASE_URL = \"https://pixabay.com/api/\"\n\nexport async function fetchImg(query) {\n    try {\n        const response = await axios.get(BASE_URL, {\n            params: {\n                key: API_KEY,\n                q: query,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n                safesearch: \"true\"\n            }\n        })\n        return response.data.hits\n    } catch (error) {\n        console.error(\"Ошибка:\", error)\n    }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\"\n\nconst gallery = document.querySelector(\".gallery\")\n\nlet lightbox = new SimpleLightbox(\".gallery a\", { \n    captionsData: \"alt\",\n    captionDelay: 250\n})\n\nexport function createGalleryMarkup(images) {\n    return images.map((img) => `\n        <li class=\"gallery-item\">\n            <a href=\"${img.largeImageURL}\">\n                <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\"/>\n            </a>\n            <div class=\"info\">\n                <p><b>Likes:</b> ${img.likes}</p>\n                <p><b>Views:</b> ${img.views}</p>\n                <p><b>Comments:</b> ${img.comments}</p>\n                <p><b>Downloads:</b> ${img.downloads}</p>\n            </div>\n        </li>\n    `).join(\"\");\n}\n\nexport function renderGallery(images) {\n    if (!images || images.length === 0) {\n        iziToast.warning({\n            title: \"Oops\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n    gallery.innerHTML = createGalleryMarkup(images);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}","import { fetchImg } from \"./js/pixabay-api\";\nimport { renderGallery, clearGallery } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nconst searchForm = document.querySelector(\".form\")\nconst searchInput = document.querySelector(\"#search-input\")\nconst loader = document.querySelector(\"#loader\")\nconst gallery = document.querySelector(\".gallery\")\n\nif (!searchForm || !searchInput || !loader || !gallery) {\n  console.error(\"Error\");\n}\n\nloader.style.display = \"none\"\n\nsearchForm.addEventListener(\"submit\", async (event) => {\n    event.preventDefault()\n\n    const query = searchInput.value.trim()\n    if (!query) {\n        iziToast.error({\n            title: \"error\",\n            message: \"Enter a search query\",\n            position: \"topRight\"\n        })\n        return\n    }\nclearGallery()\n    loader.style.display = \"block\"\n    try {\n        const images = await fetchImg(query)\n        if (!images || images.length === 0) {\n            iziToast.warning({\n                 title: \"No Results\",\n        message: \"No images found\",\n        position: \"topRight\"\n            })\n            return\n        }\n        renderGallery(images)\n    } catch (error) {\n        iziToast.error ({\n                  title: \"Error\",\n      message: \"Failed to fetch images. Try again.\",\n      position: \"topRight\",\n        })\n    } finally {\n        loader.style.display = \"none\"\n    }\n})"],"names":["API_KEY","BASE_URL","fetchImg","query","axios","error","gallery","lightbox","SimpleLightbox","createGalleryMarkup","images","img","renderGallery","iziToast","clearGallery","searchForm","searchInput","loader","event"],"mappings":"owBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAASC,EAAO,CAClC,GAAI,CAUA,OATiB,MAAMC,EAAM,IAAIH,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACb,CAAS,GACe,KAAK,IACxB,OAAQE,EAAO,CACZ,QAAQ,MAAM,UAAWA,CAAK,CACjC,CACL,CCfA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAoBC,EAAQ,CACxC,OAAOA,EAAO,IAAKC,GAAQ;AAAA;AAAA,uBAERA,EAAI,aAAa;AAAA,4BACZA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,mCAG3BA,EAAI,KAAK;AAAA,mCACTA,EAAI,KAAK;AAAA,sCACNA,EAAI,QAAQ;AAAA,uCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,KAG/C,EAAE,KAAK,EAAE,CACd,CAEO,SAASC,EAAcF,EAAQ,CAClC,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CAChCG,EAAS,QAAQ,CACb,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,EAAQ,UAAYG,EAAoBC,CAAM,EAC9CH,EAAS,QAAO,CACpB,CAEO,SAASO,GAAe,CAC3BR,EAAQ,UAAY,EACxB,CCrCA,MAAMS,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCX,EAAU,SAAS,cAAc,UAAU,GAE7C,CAACS,GAAc,CAACC,GAAe,CAACC,GAAU,CAACX,IAC7C,QAAQ,MAAM,OAAO,EAGvBW,EAAO,MAAM,QAAU,OAEvBF,EAAW,iBAAiB,SAAU,MAAOG,GAAU,CACnDA,EAAM,eAAgB,EAEtB,MAAMf,EAAQa,EAAY,MAAM,KAAM,EACtC,GAAI,CAACb,EAAO,CACRU,EAAS,MAAM,CACX,MAAO,QACP,QAAS,uBACT,SAAU,UACtB,CAAS,EACD,MACH,CACLC,EAAc,EACVG,EAAO,MAAM,QAAU,QACvB,GAAI,CACA,MAAMP,EAAS,MAAMR,EAASC,CAAK,EACnC,GAAI,CAACO,GAAUA,EAAO,SAAW,EAAG,CAChCG,EAAS,QAAQ,CACZ,MAAO,aAChB,QAAS,kBACT,SAAU,UAClB,CAAa,EACD,MACH,CACDD,EAAcF,CAAM,CACvB,MAAe,CACZG,EAAS,MAAO,CACN,MAAO,QACnB,QAAS,qCACT,SAAU,UAChB,CAAS,CACT,QAAc,CACNI,EAAO,MAAM,QAAU,MAC1B,CACL,CAAC"}